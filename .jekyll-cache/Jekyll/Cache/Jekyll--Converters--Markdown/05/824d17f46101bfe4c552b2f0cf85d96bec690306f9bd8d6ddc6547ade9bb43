I"Ù<p>En esta ocasi√≥n vamos a estar resolviendo la m√°quina <em>Explore</em> de <em>Hack The Box</em>. Es una m√°quina <em>Android</em> de nivel de dificultad f√°cil en la intrusi√≥n, y medio en la escalada de privilegios seg√∫n figura en la plataforma.</p>

<p><img src="https://raw.githubusercontent.com/MateoNitro550/MateoNitro550.github.io/master/assets/2021-09-20-Explore---Hack-The-Box/1.png" alt="" /></p>

<h3 id="fase-de-reconocimiento"><a href="#header-3"></a>Fase De Reconocimiento</h3>

<p>Primeramente vamos a lanzar una <em>traza ICMP</em> para saber si la m√°quina est√° activa.</p>

<p><img src="https://raw.githubusercontent.com/MateoNitro550/MateoNitro550.github.io/master/assets/2021-09-20-Explore---Hack-The-Box/2.png" alt="" /></p>

<p>Una vez comprobamos que la m√°quina est√° activa (pues nos devuelve una respuesta), podemos tambi√©n determinar frente a que tipo de m√°quina nos estamos enfrentando en base al valor del <em>TTL</em>, en este caso el valor del <em>TTL</em> de la m√°quina es <code class="language-plaintext highlighter-rouge">63</code>, por lo que podemos intuir que nos estamos enfrentado ante una m√°quina <em>Linux</em>. Recordemos que algunos de los valores referenciales son los siguientes:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Sistema Operativo (OS)</th>
      <th style="text-align: left">TTL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Linux</td>
      <td style="text-align: left">64</td>
    </tr>
    <tr>
      <td style="text-align: left">Windows</td>
      <td style="text-align: left">128</td>
    </tr>
    <tr>
      <td style="text-align: left">Solaris</td>
      <td style="text-align: left">254</td>
    </tr>
  </tbody>
</table>

<p>Si nos damos cuenta, en esta ocasi√≥n, el valor del <em>TTL</em> es <code class="language-plaintext highlighter-rouge">63</code> y no <code class="language-plaintext highlighter-rouge">64</code> como nos indica la tabla anterior, esto se debe a que en el entorno de m√°quinas de <em>Hack The Box</em>, no nos comunicamos directamente con la m√°quina a vulnerar, sino que existe un intermediario, por lo que el <em>TTL</em> disminuye en una unidad.</p>

<p><img src="https://raw.githubusercontent.com/MateoNitro550/MateoNitro550.github.io/master/assets/2021-09-20-Explore---Hack-The-Box/3.png" alt="" /></p>

<p>Posteriormente, vamos a utilizar la herramienta <em>Nmap</em> para determinar que puertos est√°n abiertos as√≠ como identificar la versi√≥n y servicios que corren en el activo; para ello tenemos dos posibilidades, una de ellas en caso de que nuestro escaneo tarde demasiado en completar.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap -p- --open -T5 -v -n 10.10.10.247 -oG allPorts
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo nmap -p- --open -sS --min-rate 5000 -vvv -n -Pn 10.10.10.247 -oG allPorts
</code></pre></div></div>

<p>Aqu√≠ se explican los par√°metros utilizados en el escaneo con <em>Nmap</em>:</p>

<ul>
  <li>p - Escanea todo el rango de puertos (65535 en total)</li>
  <li>open - Nos indica todos aquellos puertos que est√°n abiertos (o posiblemente abiertos)</li>
  <li>T5 - La plantilla de temporizado nos permite agilizar nuestro escaneo, este valor puede ir desde 0 hasta 5, cabe aclarar que a mayor sea la plantilla, ‚Äúgeneraremos m√°s ruido‚Äù, pero no pasa nada ¬øno? Al fin y al cabo estamos practicando en un estado controlado y aqu√≠ somos todos <code class="language-plaintext highlighter-rouge">White Hat</code></li>
  <li>v - Verbose, reporta lo encontrado por consola</li>
  <li>n - No aplicar resoluci√≥n DNS</li>
  <li>sS - Escaneo TCP SYN</li>
  <li>min-rate - Emitir paquetes no m√°s lentos que <valor> por segundo</valor></li>
  <li>vvv - Triple verbose, para obtener mayor informaci√≥n por consola</li>
  <li>Pn - No aplicar host discovery</li>
  <li>oG - Exportar el escaneo en formato <em>‚Äúgrepeable‚Äù</em></li>
</ul>
:ET